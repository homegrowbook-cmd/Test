(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[529],{823:(e,t,r)=>{Promise.resolve().then(r.bind(r,9210))},960:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5125);let a="https://growdiaries-api.railway.app",i=s.A.create({baseURL:a,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var t;let r=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!r._retry){r._retry=!0;try{let e=localStorage.getItem("refreshToken");if(e){let{accessToken:t}=(await s.A.post("".concat(a,"/auth/refresh"),{refreshToken:e})).data;return localStorage.setItem("accessToken",t),r.headers.Authorization="Bearer ".concat(t),i(r)}}catch(e){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/auth/login"}}return Promise.reject(e)});let n=i},9210:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5155),a=r(2115),i=r(2619),n=r.n(i),l=r(960);let o=[{id:"1",title:"First Indoor Grow - Blue Dream",description:"My first attempt at growing Blue Dream indoors. Using a 2x2 tent with LED lighting. Excited to document this journey!",strainName:"Blue Dream",strainType:"Sativa Dominant Hybrid",isPublic:!0,lightType:"LED",lightWatts:240,medium:"Soil",nutrients:"General Hydroponics",phase:"VEGETATIVE",startDate:"2025-10-15T00:00:00Z",userId:"1",user:{id:"1",email:"grower1@example.com",username:"GreenThumb420",role:"user",createdAt:"2025-10-01T00:00:00Z"},createdAt:"2025-10-15T00:00:00Z",updatedAt:"2025-11-19T00:00:00Z",_count:{entries:12,likes:24,comments:8}},{id:"2",title:"Organic Outdoor Garden - Multiple Strains",description:"Growing several strains organically in my backyard. Using compost tea and natural pest control methods.",strainName:"Mixed (OG Kush, Northern Lights, Girl Scout Cookies)",strainType:"Mixed",isPublic:!0,lightType:"Natural Sunlight",medium:"Living Soil",nutrients:"Organic Compost Tea",phase:"FLOWERING",startDate:"2025-05-01T00:00:00Z",userId:"2",user:{id:"2",email:"grower2@example.com",username:"OrganicGrower",role:"user",createdAt:"2025-04-15T00:00:00Z"},createdAt:"2025-05-01T00:00:00Z",updatedAt:"2025-11-19T00:00:00Z",_count:{entries:45,likes:89,comments:34}},{id:"3",title:"Hydroponic Setup - Gorilla Glue #4",description:"Testing out a DWC hydroponic system for the first time with GG4. Closely monitoring EC and pH levels daily.",strainName:"Gorilla Glue #4",strainType:"Hybrid",isPublic:!0,lightType:"LED",lightWatts:480,medium:"Hydroponic DWC",nutrients:"Advanced Nutrients",phase:"FLOWERING",startDate:"2025-09-01T00:00:00Z",userId:"3",user:{id:"3",email:"grower3@example.com",username:"HydroMaster",role:"user",createdAt:"2025-08-01T00:00:00Z"},createdAt:"2025-09-01T00:00:00Z",updatedAt:"2025-11-19T00:00:00Z",_count:{entries:28,likes:56,comments:19}},{id:"4",title:"Seedling Stage - Purple Haze",description:"Just started germinating Purple Haze seeds. This strain has been on my wish list for years!",strainName:"Purple Haze",strainType:"Sativa",isPublic:!0,lightType:"CFL",lightWatts:150,medium:"Coco Coir",nutrients:"Canna Coco",phase:"SEEDLING",startDate:"2025-11-10T00:00:00Z",userId:"4",user:{id:"4",email:"grower4@example.com",username:"NewbiePro",role:"user",createdAt:"2025-11-01T00:00:00Z"},createdAt:"2025-11-10T00:00:00Z",updatedAt:"2025-11-19T00:00:00Z",_count:{entries:3,likes:12,comments:5}},{id:"5",title:"Drying & Curing - White Widow Harvest",description:"Just harvested my White Widow plants. Now in the drying phase. Can't wait to cure these beautiful buds!",strainName:"White Widow",strainType:"Hybrid",isPublic:!0,lightType:"HPS",lightWatts:600,medium:"Soil",nutrients:"Fox Farm Trio",phase:"DRYING",startDate:"2025-06-15T00:00:00Z",endDate:"2025-11-10T00:00:00Z",userId:"5",user:{id:"5",email:"grower5@example.com",username:"VeteranGrower",role:"user",createdAt:"2025-01-01T00:00:00Z"},createdAt:"2025-06-15T00:00:00Z",updatedAt:"2025-11-19T00:00:00Z",_count:{entries:52,likes:145,comments:67}},{id:"6",title:"Micro Grow - Auto Northern Lights",description:"Growing in a small PC case setup. Autoflower strain perfect for this micro environment.",strainName:"Auto Northern Lights",strainType:"Indica Auto",isPublic:!0,lightType:"LED",lightWatts:65,medium:"Coco Perlite Mix",nutrients:"BioBizz",phase:"FLOWERING",startDate:"2025-10-01T00:00:00Z",userId:"6",user:{id:"6",email:"grower6@example.com",username:"MicroGrower",role:"user",createdAt:"2025-09-15T00:00:00Z"},createdAt:"2025-10-01T00:00:00Z",updatedAt:"2025-11-19T00:00:00Z",_count:{entries:18,likes:34,comments:15}}];function c(){let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[c,d]=(0,a.useState)(1),[u,m]=(0,a.useState)(1),[p,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{g()},[c]);let g=async()=>{try{i(!0);let e=await l.A.get("/runs",{params:{page:c,limit:12}});t(e.data.runs),m(e.data.pagination.totalPages),h(!1)}catch(e){console.error("Failed to fetch runs:",e),t(o),m(1),h(!0)}finally{i(!1)}};return r&&1===c?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"text-center",children:"Loading..."})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[p&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-blue-100 dark:bg-blue-900 border border-blue-300 dark:border-blue-700 rounded-lg",children:(0,s.jsxs)("p",{className:"text-blue-800 dark:text-blue-200 text-center",children:[(0,s.jsx)("strong",{children:"Demo Mode:"})," Showing example diaries. Connect to a backend API to see real data."]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold",children:"Explore Grow Diaries"}),(0,s.jsx)(n(),{href:"/runs/new",className:"btn-primary",children:"+ New Diary"})]}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{var t,r,a,i;return(0,s.jsx)(n(),{href:"/runs/".concat(e.id),children:(0,s.jsxs)("div",{className:"card hover:shadow-xl transition-shadow cursor-pointer h-full",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold line-clamp-2",children:e.title}),(0,s.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(function(e){switch(e){case"SEEDLING":return"bg-yellow-200 text-yellow-800";case"VEGETATIVE":return"bg-green-200 text-green-800";case"FLOWERING":return"bg-purple-200 text-purple-800";case"DRYING":return"bg-orange-200 text-orange-800";case"CURING":return"bg-blue-200 text-blue-800";default:return"bg-gray-200 text-gray-800"}}(e.phase)),children:e.phase})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:[(0,s.jsx)("strong",{children:"Strain:"})," ",e.strainName]}),e.strainType&&(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.strainType})]}),e.description&&(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-3",children:e.description}),(0,s.jsx)("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsxs)("span",{children:["\uD83D\uDC64 ",(null==(t=e.user)?void 0:t.username)||"Unknown"]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("span",{children:["❤️ ",(null==(r=e._count)?void 0:r.likes)||0]}),(0,s.jsxs)("span",{children:["\uD83D\uDCAC ",(null==(a=e._count)?void 0:a.comments)||0]}),(0,s.jsxs)("span",{children:["\uD83D\uDCDD ",(null==(i=e._count)?void 0:i.entries)||0]})]})]})})]})},e.id)})}),u>1&&(0,s.jsxs)("div",{className:"flex justify-center gap-2 mt-8",children:[(0,s.jsx)("button",{onClick:()=>d(Math.max(1,c-1)),disabled:1===c,className:"btn-secondary disabled:opacity-50",children:"Previous"}),(0,s.jsxs)("span",{className:"px-4 py-2",children:["Page ",c," of ",u]}),(0,s.jsx)("button",{onClick:()=>d(Math.min(u,c+1)),disabled:c===u,className:"btn-secondary disabled:opacity-50",children:"Next"})]})]})}}},e=>{e.O(0,[619,125,441,255,358],()=>e(e.s=823)),_N_E=e.O()}]);